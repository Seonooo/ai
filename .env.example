# ============================================================================
# Docker Compose & Application 환경 변수 설정 Example
# 이 파일을 복사하여 .env 파일을 생성하고 사용하세요.
# cp .env.example .env
# ============================================================================

# ----------------------------------------------------------------------------
# Application 기본 설정
# ----------------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=prod

# Core Service
CORE_SERVICE_PORT=8080
CORE_DEBUG_PORT=5005

# Queue Service
QUEUE_SERVICE_PORT=8081
QUEUE_DEBUG_PORT=5006

# ----------------------------------------------------------------------------
# MySQL Database (Core Service용)
# ----------------------------------------------------------------------------
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=concert_db
MYSQL_USER=concert_user
MYSQL_PASSWORD=concert_password

# Connection Pool 설정
DB_POOL_MAX_SIZE=10
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000

# ----------------------------------------------------------------------------
# JPA/Hibernate 설정
# ----------------------------------------------------------------------------
JPA_DDL_AUTO=update
JPA_SHOW_SQL=true
JPA_FORMAT_SQL=true
JPA_DIALECT=org.hibernate.dialect.MySQLDialect
JPA_USE_SQL_COMMENTS=true

# ----------------------------------------------------------------------------
# Redis (Core & Queue 공유)
# ----------------------------------------------------------------------------
REDIS_PASSWORD=redispassword

# Redis Connection Pool
REDIS_POOL_MAX_ACTIVE=20
REDIS_POOL_MAX_IDLE=20
REDIS_POOL_MIN_IDLE=5

# ----------------------------------------------------------------------------
# Kafka (Core & Queue 공유)
# ----------------------------------------------------------------------------
# Docker Compose: broker:9092
# 로컬 개발: localhost:29092
KAFKA_CONSUMER_GROUP_ID_CORE=core-service-group
KAFKA_CONSUMER_GROUP_ID_QUEUE=queue-service-group
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_PRODUCER_ACKS=all
KAFKA_PRODUCER_RETRIES=3

# ----------------------------------------------------------------------------
# Queue Service 설정
# ----------------------------------------------------------------------------
QUEUE_WAITING_MAX_SIZE=10000
QUEUE_ACTIVE_MAX_SIZE=100
QUEUE_ACTIVE_TOKEN_TTL=300
QUEUE_ACTIVATION_INTERVAL=5000
QUEUE_CLEANUP_INTERVAL=60000

# ----------------------------------------------------------------------------
# Logging 설정
# 개발: DEBUG, 운영: INFO/WARN
# ----------------------------------------------------------------------------
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SQL=DEBUG
LOG_LEVEL_SQL_BIND=TRACE

# ----------------------------------------------------------------------------
# Actuator 설정
# ----------------------------------------------------------------------------
ACTUATOR_HEALTH_SHOW_DETAILS=when_authorized
